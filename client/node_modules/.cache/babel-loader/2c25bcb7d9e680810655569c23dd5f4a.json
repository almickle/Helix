{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\OneDrive\\\\Documents\\\\Code\\\\helix-app\\\\client\\\\src\\\\components\\\\views\\\\sequence-header\\\\SequenceHeader.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport Bookmark from '../../assets/Bookmark.png';\nimport BookmarkColored from '../../assets/BookmarkColored.png';\nimport CopyIcon from '../../assets/CopyIcon.png';\nimport Circles from '../../assets/Circles.png';\nimport SeqRange from './SeqRange';\nimport AnnotationHandler from './AnnotationHandler';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SequenceHeader(_ref) {\n  _s();\n\n  let {\n    geneData,\n    setTriggerAnnotation,\n    annotations,\n    annotationToggle,\n    setAnnotationToggle,\n    setAnnotationText,\n    sequenceStyle,\n    setSequenceStyle,\n    rerenderLibrary,\n    setRerenderLibrary,\n    rawSequence,\n    handleAddAnnotation,\n    isAnnotating\n  } = _ref;\n  const headerSize = 60;\n  const [inLibrary, setInLibrary] = useState(false);\n  const [bookmarkIcon, setBookmarkIcon] = useState(Bookmark); // note: should migrate header icon functionalities to specialized components\n\n  function setStyling() {\n    setSequenceStyle(!sequenceStyle);\n  }\n\n  function handleAddToClipboard() {\n    navigator.clipboard.writeText(rawSequence);\n  }\n\n  function handleAddToLibrary() {\n    if (inLibrary === true) {\n      fetch('/removegene', {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          symbol: geneData.symbol\n        })\n      }).then(() => {\n        setRerenderLibrary(!rerenderLibrary);\n        setInLibrary(false);\n      });\n    } else {\n      fetch('/addgene', {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          symbol: geneData.symbol,\n          taxon: geneData.taxname\n        })\n      }).then(() => {\n        setRerenderLibrary(!rerenderLibrary);\n        setInLibrary(true);\n      });\n    }\n  } // get library\n\n\n  useEffect(() => {\n    const library = [];\n    fetch('/genelibrary', {\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      credentials: 'include'\n    }).then(resp => resp.json()).then(data => {\n      data.forEach(gene => {\n        library.push(gene.symbol);\n      });\n\n      if (library.includes(geneData.symbol)) {\n        setInLibrary(true);\n      } else {\n        setInLibrary(false);\n      }\n    });\n  }, [geneData]); // check if in library\n\n  useEffect(() => {\n    if (inLibrary === true) {\n      // bug: should only add to library if post successful\n      setBookmarkIcon(BookmarkColored);\n    } else {\n      setBookmarkIcon(Bookmark);\n    }\n  }, [inLibrary]); // note: need to style header and icons\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"header\",\n    style: {\n      zIndex: 2,\n      position: 'fixed',\n      height: headerSize,\n      width: '70%',\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: 'rgb(220, 220, 220)',\n      borderRadius: '0px 0px 10px 10px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '20%'\n      },\n      children: /*#__PURE__*/_jsxDEV(SeqRange, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '100%',\n        width: '60%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '100%',\n          paddingLeft: 6,\n          paddingRight: 6\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          onClick: setStyling,\n          src: Circles,\n          style: {\n            height: '80%',\n            cursor: 'pointer'\n          },\n          alt: \"paint icon: make an annotation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 148\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(AnnotationHandler, {\n        setAnnotationText: setAnnotationText,\n        setTriggerAnnotation: setTriggerAnnotation,\n        triggerAnnotation: triggerAnnotation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '100%',\n        width: '20%',\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-end',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '100%',\n          paddingLeft: 6,\n          paddingRight: 6\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          onClick: handleAddToLibrary,\n          src: bookmarkIcon,\n          style: {\n            height: '110%',\n            cursor: 'pointer'\n          },\n          alt: \"bookmark icon: add to library\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 148\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '100%',\n          paddingLeft: 6,\n          paddingRight: 6\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          onClick: handleAddToClipboard,\n          src: CopyIcon,\n          style: {\n            height: '100%',\n            cursor: 'pointer'\n          },\n          alt: \"copy icon: add to clipboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 148\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SequenceHeader, \"9C4KCF5u1tfK9BoEcTdY5c230lg=\");\n\n_c = SequenceHeader;\n\nvar _c;\n\n$RefreshReg$(_c, \"SequenceHeader\");","map":{"version":3,"names":["useEffect","useState","Bookmark","BookmarkColored","CopyIcon","Circles","SeqRange","AnnotationHandler","SequenceHeader","geneData","setTriggerAnnotation","annotations","annotationToggle","setAnnotationToggle","setAnnotationText","sequenceStyle","setSequenceStyle","rerenderLibrary","setRerenderLibrary","rawSequence","handleAddAnnotation","isAnnotating","headerSize","inLibrary","setInLibrary","bookmarkIcon","setBookmarkIcon","setStyling","handleAddToClipboard","navigator","clipboard","writeText","handleAddToLibrary","fetch","method","headers","credentials","body","JSON","stringify","symbol","then","taxon","taxname","library","resp","json","data","forEach","gene","push","includes","zIndex","position","height","width","display","flexDirection","justifyContent","alignItems","backgroundColor","borderRadius","paddingLeft","paddingRight","cursor","triggerAnnotation"],"sources":["C:/Users/micha/OneDrive/Documents/Code/helix-app/client/src/components/views/sequence-header/SequenceHeader.jsx"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport Bookmark from '../../assets/Bookmark.png'\r\nimport BookmarkColored from '../../assets/BookmarkColored.png'\r\nimport CopyIcon from '../../assets/CopyIcon.png'\r\nimport Circles from '../../assets/Circles.png'\r\nimport SeqRange from './SeqRange'\r\nimport AnnotationHandler from './AnnotationHandler'\r\n\r\n\r\nexport default function SequenceHeader ( { geneData, setTriggerAnnotation, annotations, annotationToggle, setAnnotationToggle, setAnnotationText, sequenceStyle, setSequenceStyle, rerenderLibrary, setRerenderLibrary, rawSequence, handleAddAnnotation, isAnnotating } ) {\r\n\r\n    const headerSize = 60\r\n\r\n    const [inLibrary, setInLibrary] = useState(false)\r\n    const [bookmarkIcon, setBookmarkIcon] = useState(Bookmark)\r\n\r\n\r\n    // note: should migrate header icon functionalities to specialized components\r\n\r\n    function setStyling() {\r\n        setSequenceStyle(!sequenceStyle)\r\n    }\r\n\r\n    function handleAddToClipboard() {\r\n        navigator.clipboard.writeText(rawSequence)\r\n    }\r\n\r\n    function handleAddToLibrary() {\r\n        if(inLibrary === true) {\r\n            fetch('/removegene', {\r\n                method: 'POST',\r\n                headers: {\r\n                    \"Content-Type\": 'application/json'\r\n                },\r\n                credentials: 'include',\r\n                body: JSON.stringify({ symbol: geneData.symbol })\r\n            })\r\n            .then(() => {\r\n                setRerenderLibrary(!rerenderLibrary)\r\n                setInLibrary(false)\r\n            })\r\n        }\r\n        else {\r\n            fetch('/addgene', {\r\n                method: 'POST',\r\n                headers: {\r\n                    \"Content-Type\": 'application/json'\r\n                },\r\n                credentials: 'include',\r\n                body: JSON.stringify({ symbol: geneData.symbol, taxon: geneData.taxname })\r\n            })\r\n            .then(() => {\r\n                setRerenderLibrary(!rerenderLibrary)\r\n                setInLibrary(true)\r\n            })\r\n        }\r\n    }\r\n\r\n    // get library\r\n    useEffect(() => {\r\n        const library = []\r\n        fetch('/genelibrary', {\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n            data.forEach((gene) => {\r\n                library.push(gene.symbol)\r\n            })\r\n            if(library.includes(geneData.symbol)) {\r\n                setInLibrary(true)\r\n            } \r\n            else {\r\n                setInLibrary(false)\r\n            }\r\n        })\r\n    }, [geneData])\r\n\r\n    // check if in library\r\n    useEffect(() => {\r\n        if(inLibrary === true) { // bug: should only add to library if post successful\r\n            setBookmarkIcon(BookmarkColored)\r\n        } \r\n        else {\r\n            setBookmarkIcon(Bookmark)\r\n        }\r\n    }, [inLibrary])\r\n\r\n\r\n\r\n\r\n    \r\n    // note: need to style header and icons\r\n\r\n    return (\r\n        <div id=\"header\" style={{ zIndex: 2, position: 'fixed', height: headerSize, width: '70%', display: 'flex', flexDirection: 'row', justifyContent: 'center', alignItems: 'center', backgroundColor: 'rgb(220, 220, 220)', borderRadius: '0px 0px 10px 10px' }}>\r\n            <div style={{ width: '20%' }}>\r\n                <SeqRange />\r\n            </div>\r\n            <div style={{ height: '100%', width: '60%', display: 'flex', flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\r\n                <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%', paddingLeft: 6, paddingRight: 6 }}><img onClick={setStyling} src={Circles} style={{ height: '80%', cursor: 'pointer' }} alt=\"paint icon: make an annotation\" /> </span>\r\n                <AnnotationHandler setAnnotationText={setAnnotationText} setTriggerAnnotation={setTriggerAnnotation} triggerAnnotation={triggerAnnotation}/>\r\n            </div>\r\n            <div style={{ height: '100%', width: '20%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'center' }}>\r\n                <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%', paddingLeft: 6, paddingRight: 6 }}><img onClick={handleAddToLibrary} src={bookmarkIcon} style={{ height: '110%', cursor: 'pointer' }} alt=\"bookmark icon: add to library\" /> </span>\r\n                <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%', paddingLeft: 6, paddingRight: 6 }}><img onClick={handleAddToClipboard} src={CopyIcon} style={{ height: '100%', cursor: 'pointer' }} alt=\"copy icon: add to clipboard\" /> </span>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}