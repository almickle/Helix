{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\OneDrive\\\\Documents\\\\Code\\\\helix-app\\\\client\\\\src\\\\components\\\\header\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect } from 'react';\nimport loginIcon from '../assets/loginIcon.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login(_ref) {\n  _s();\n\n  let {\n    setUser,\n    user,\n    setModalVisible,\n    modalVisible,\n    setLoginModalVisible,\n    loginModalVisible\n  } = _ref;\n  useEffect(() => {\n    fetch('https://www.helixgenomes.com/me', {\n      credentials: 'include'\n    }).then(resp => {\n      if (resp.ok) {\n        resp.json().then(user => setUser(user));\n      }\n    }); // eslint-disable-next-line\n  }, []);\n\n  function handleLogin() {\n    if (user.username !== 'guest') {\n      fetch('https://www.helixgenomes.com/logout', {\n        method: 'DELETE',\n        credentials: 'include'\n      }).then(() => setUser({\n        username: 'guest'\n      }));\n    } else {\n      if (modalVisible === true) {\n        setModalVisible(false);\n      }\n\n      if (loginModalVisible === true) {\n        setLoginModalVisible(false);\n      }\n\n      if (loginModalVisible === false && modalVisible === false) {\n        setModalVisible(true);\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: handleLogin,\n    id: \"login-icon\",\n    style: {\n      display: 'flex',\n      height: '100%',\n      width: 50,\n      justifyContent: 'flex-end',\n      alignItems: 'center',\n      marginRight: '0.2%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        marginRight: 5\n      },\n      children: user.username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      id: \"login-button\",\n      src: loginIcon,\n      style: {\n        height: '92%',\n        cursor: 'pointer'\n      },\n      alt: \"login icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useEffect","loginIcon","Login","setUser","user","setModalVisible","modalVisible","setLoginModalVisible","loginModalVisible","fetch","credentials","then","resp","ok","json","handleLogin","username","method","display","height","width","justifyContent","alignItems","marginRight","cursor"],"sources":["C:/Users/micha/OneDrive/Documents/Code/helix-app/client/src/components/header/Login.jsx"],"sourcesContent":["import { useEffect } from 'react'\r\nimport loginIcon from '../assets/loginIcon.png'\r\n\r\nexport default function Login ( { setUser, user, setModalVisible, modalVisible, setLoginModalVisible, loginModalVisible } ) {\r\n\r\n\r\n    useEffect(() => {\r\n        fetch('https://www.helixgenomes.com/me', {\r\n            credentials: 'include',\r\n        })\r\n        .then(resp => {\r\n            if(resp.ok) {\r\n                resp.json().then(user => setUser(user))\r\n            }\r\n        })\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    function handleLogin() {\r\n        if (user.username !== 'guest') {\r\n            fetch('https://www.helixgenomes.com/logout', {\r\n                method: 'DELETE',\r\n                credentials: 'include',\r\n            })\r\n            .then(() => setUser({ username: 'guest' }))\r\n        }\r\n        else {\r\n            if(modalVisible === true) {\r\n                setModalVisible(false)\r\n            }\r\n            if(loginModalVisible === true) {\r\n                setLoginModalVisible(false)\r\n            }\r\n            if(loginModalVisible === false && modalVisible === false) {\r\n                setModalVisible(true)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div onClick={handleLogin} id='login-icon' style={{ display: 'flex', height: '100%', width: 50, justifyContent: 'flex-end', alignItems: 'center', marginRight: '0.2%' }}>\r\n            <span style={{ marginRight: 5 }}>{user.username}</span>\r\n            <img id='login-button' src={loginIcon} style={{ height: '92%', cursor: 'pointer' }} alt='login icon' />\r\n        </div>\r\n    )\r\n}"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;;AAEA,eAAe,SAASC,KAAT,OAA6G;EAAA;;EAAA,IAA5F;IAAEC,OAAF;IAAWC,IAAX;IAAiBC,eAAjB;IAAkCC,YAAlC;IAAgDC,oBAAhD;IAAsEC;EAAtE,CAA4F;EAGxHR,SAAS,CAAC,MAAM;IACZS,KAAK,CAAC,iCAAD,EAAoC;MACrCC,WAAW,EAAE;IADwB,CAApC,CAAL,CAGCC,IAHD,CAGMC,IAAI,IAAI;MACV,IAAGA,IAAI,CAACC,EAAR,EAAY;QACRD,IAAI,CAACE,IAAL,GAAYH,IAAZ,CAAiBP,IAAI,IAAID,OAAO,CAACC,IAAD,CAAhC;MACH;IACJ,CAPD,EADY,CASZ;EACH,CAVQ,EAUN,EAVM,CAAT;;EAYA,SAASW,WAAT,GAAuB;IACnB,IAAIX,IAAI,CAACY,QAAL,KAAkB,OAAtB,EAA+B;MAC3BP,KAAK,CAAC,qCAAD,EAAwC;QACzCQ,MAAM,EAAE,QADiC;QAEzCP,WAAW,EAAE;MAF4B,CAAxC,CAAL,CAICC,IAJD,CAIM,MAAMR,OAAO,CAAC;QAAEa,QAAQ,EAAE;MAAZ,CAAD,CAJnB;IAKH,CAND,MAOK;MACD,IAAGV,YAAY,KAAK,IAApB,EAA0B;QACtBD,eAAe,CAAC,KAAD,CAAf;MACH;;MACD,IAAGG,iBAAiB,KAAK,IAAzB,EAA+B;QAC3BD,oBAAoB,CAAC,KAAD,CAApB;MACH;;MACD,IAAGC,iBAAiB,KAAK,KAAtB,IAA+BF,YAAY,KAAK,KAAnD,EAA0D;QACtDD,eAAe,CAAC,IAAD,CAAf;MACH;IACJ;EACJ;;EAID,oBACI;IAAK,OAAO,EAAEU,WAAd;IAA2B,EAAE,EAAC,YAA9B;IAA2C,KAAK,EAAE;MAAEG,OAAO,EAAE,MAAX;MAAmBC,MAAM,EAAE,MAA3B;MAAmCC,KAAK,EAAE,EAA1C;MAA8CC,cAAc,EAAE,UAA9D;MAA0EC,UAAU,EAAE,QAAtF;MAAgGC,WAAW,EAAE;IAA7G,CAAlD;IAAA,wBACI;MAAM,KAAK,EAAE;QAAEA,WAAW,EAAE;MAAf,CAAb;MAAA,UAAkCnB,IAAI,CAACY;IAAvC;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAK,EAAE,EAAC,cAAR;MAAuB,GAAG,EAAEf,SAA5B;MAAuC,KAAK,EAAE;QAAEkB,MAAM,EAAE,KAAV;QAAiBK,MAAM,EAAE;MAAzB,CAA9C;MAAoF,GAAG,EAAC;IAAxF;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAMH;;GA5CuBtB,K;;KAAAA,K"},"metadata":{},"sourceType":"module"}