{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\OneDrive\\\\Documents\\\\Code\\\\helix-app\\\\client\\\\src\\\\components\\\\panel\\\\directory\\\\Label.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Label(_ref) {\n  _s();\n\n  let {\n    label,\n    geneIndex,\n    geneData,\n    setGeneData,\n    setInputData,\n    setDirectoryOpen,\n    directoryOpen,\n    setTranscriptIndex,\n    setPresentView,\n    setSequenceID,\n    renderLevel,\n    config,\n    previousIndex,\n    entryIndex,\n    reload,\n    setReload\n  } = _ref;\n  const [triggerRender, setTriggerRender] = useState(false);\n  const [viewCache, setViewCache] = useState(null);\n  useEffect(() => {\n    setTriggerRender(!triggerRender); //eslint-disable-next-line\n  }, []);\n\n  function handleClickLabel() {\n    setDirectoryOpen(!directoryOpen);\n  }\n\n  function handleDNA() {\n    setPresentView('DNA');\n    setInputData([config[1][0][previousIndex], 'Homo sapiens']);\n    setReload(!reload);\n  }\n\n  function handleRNA(gene) {\n    setPresentView('RNA');\n    setSequenceID(gene.transcripts[entryIndex].accession_version);\n    setTranscriptIndex(entryIndex);\n    setReload(!reload);\n  }\n\n  function handleProtein() {\n    setPresentView('Protein');\n    setSequenceID(geneData.transcripts[previousIndex].protein.accession_version);\n    setTranscriptIndex(previousIndex);\n    setReload(!reload);\n  }\n\n  function handleDoubleClickLabel() {\n    switch (renderLevel) {\n      case 1:\n        handleDNA();\n        break;\n\n      case 2:\n        fetch('https://api.ncbi.nlm.nih.gov/datasets/v1/gene/symbol/' + config[1][0][previousIndex] + '/taxon/human').then(resp => resp.json()).then(data => {\n          const gene = data.genes[0].gene;\n          setGeneData(gene);\n        });\n        break;\n\n      case 3:\n        fetch('https://api.ncbi.nlm.nih.gov/datasets/v1/gene/symbol/' + config[1][0][geneIndex] + '/taxon/human').then(resp => resp.json()).then(data => {\n          const gene = data.genes[0].gene;\n          setGeneData(gene);\n        });\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  let bottomBorder = 1;\n  let topBorder = 1;\n  let tabBorderHeight;\n  let borderRadius = 0;\n\n  if (document.getElementById(label)) {\n    tabBorderHeight = document.getElementById(label).offsetHeight;\n  }\n\n  if (entryIndex === config[renderLevel][previousIndex].length - 1) {\n    bottomBorder = 0;\n  }\n\n  if (renderLevel === 1) {\n    topBorder = 0;\n  }\n\n  if (entryIndex !== config[renderLevel][previousIndex].length - 1) {\n    borderRadius = 0;\n  }\n\n  const borderTopStyle = {\n    height: tabBorderHeight / 2,\n    width: 12,\n    borderLeft: 'solid',\n    borderLeftColor: 'rgb(200, 200, 200',\n    borderLeftWidth: topBorder,\n    borderBottom: 'solid',\n    borderColor: 'rgb(200, 200, 200',\n    borderWidth: topBorder,\n    borderRadius: `0px 0px 0px ${borderRadius * 10}px`\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: handleClickLabel,\n    onDoubleClick: handleDoubleClickLabel,\n    style: {\n      height: 'fit-content',\n      width: 200,\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center',\n      boxShadow: `${bottomBorder}px 0px 0px 0px rgb(200, 200, 200) inset`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        height: tabBorderHeight\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: borderTopStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        marginLeft: 5\n      },\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Label, \"uvHlc3zC0JDeIfKGmnseXQIIBPg=\");\n\n_c = Label;\n\nvar _c;\n\n$RefreshReg$(_c, \"Label\");","map":{"version":3,"names":["useEffect","useState","Label","label","geneIndex","geneData","setGeneData","setInputData","setDirectoryOpen","directoryOpen","setTranscriptIndex","setPresentView","setSequenceID","renderLevel","config","previousIndex","entryIndex","reload","setReload","triggerRender","setTriggerRender","viewCache","setViewCache","handleClickLabel","handleDNA","handleRNA","gene","transcripts","accession_version","handleProtein","protein","handleDoubleClickLabel","fetch","then","resp","json","data","genes","bottomBorder","topBorder","tabBorderHeight","borderRadius","document","getElementById","offsetHeight","length","borderTopStyle","height","width","borderLeft","borderLeftColor","borderLeftWidth","borderBottom","borderColor","borderWidth","display","flexDirection","alignItems","boxShadow","marginLeft"],"sources":["C:/Users/micha/OneDrive/Documents/Code/helix-app/client/src/components/panel/directory/Label.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\n\r\nexport default function Label ( { label, geneIndex, geneData, setGeneData, setInputData, setDirectoryOpen, directoryOpen, setTranscriptIndex, setPresentView, setSequenceID, renderLevel, config, previousIndex, entryIndex, reload, setReload } ) {\r\n\r\n    const [triggerRender, setTriggerRender] = useState(false)\r\n    const [viewCache, setViewCache] = useState(null)\r\n\r\n    \r\n    useEffect(() => {\r\n        setTriggerRender(!triggerRender)\r\n        //eslint-disable-next-line\r\n    }, [])\r\n    \r\n\r\n    function handleClickLabel() {\r\n        setDirectoryOpen(!directoryOpen)\r\n    }\r\n\r\n    function handleDNA () {\r\n        setPresentView('DNA')\r\n        setInputData([config[1][0][previousIndex], 'Homo sapiens'])\r\n        setReload(!reload)\r\n    }\r\n\r\n    function handleRNA (gene) {\r\n        setPresentView('RNA')\r\n        setSequenceID(gene.transcripts[entryIndex].accession_version)\r\n        setTranscriptIndex(entryIndex)\r\n        setReload(!reload)\r\n    }\r\n\r\n    function handleProtein () {\r\n        setPresentView('Protein')\r\n        setSequenceID(geneData.transcripts[previousIndex].protein.accession_version)\r\n        setTranscriptIndex(previousIndex)\r\n        setReload(!reload)\r\n    }\r\n\r\n   \r\n\r\n    function handleDoubleClickLabel() {\r\n        switch (renderLevel) {\r\n            case 1:\r\n                handleDNA()\r\n                break;\r\n\r\n            case 2:\r\n                fetch('https://api.ncbi.nlm.nih.gov/datasets/v1/gene/symbol/' + config[1][0][previousIndex] + '/taxon/human')\r\n                    .then((resp) => resp.json())\r\n                    .then((data) => {\r\n                            const gene = data.genes[0].gene\r\n                            setGeneData(gene)\r\n                    })\r\n                break;\r\n\r\n            case 3:\r\n                fetch('https://api.ncbi.nlm.nih.gov/datasets/v1/gene/symbol/' + config[1][0][geneIndex] + '/taxon/human')\r\n                .then((resp) => resp.json())\r\n                .then((data) => {\r\n                    const gene = data.genes[0].gene\r\n                            setGeneData(gene)\r\n                })\r\n                break;\r\n        \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    let bottomBorder = 1\r\n    let topBorder = 1\r\n    let tabBorderHeight\r\n    let borderRadius = 0\r\n\r\n    if(document.getElementById(label)) {\r\n        tabBorderHeight = document.getElementById(label).offsetHeight\r\n    }\r\n\r\n    if(entryIndex === config[renderLevel][previousIndex].length-1) {\r\n        bottomBorder = 0\r\n    }\r\n\r\n    if(renderLevel === 1) {\r\n        topBorder = 0\r\n    }\r\n\r\n    if(entryIndex !== config[renderLevel][previousIndex].length-1) {\r\n        borderRadius = 0\r\n    }\r\n\r\n\r\n    const borderTopStyle = {\r\n        height: tabBorderHeight/2, width: 12, \r\n        borderLeft: 'solid', borderLeftColor: 'rgb(200, 200, 200', borderLeftWidth: topBorder, \r\n        borderBottom: 'solid', borderColor: 'rgb(200, 200, 200', borderWidth: topBorder,\r\n        borderRadius: `0px 0px 0px ${borderRadius*10}px`\r\n    }\r\n\r\n    \r\n    return (\r\n        <div onClick={handleClickLabel} onDoubleClick={handleDoubleClickLabel} style={{ height: 'fit-content', width: 200, display: 'flex', flexDirection: 'row', alignItems: 'center', boxShadow: `${bottomBorder}px 0px 0px 0px rgb(200, 200, 200) inset` }}>\r\n            <div style={{ display: 'flex', flexDirection: 'column', height: tabBorderHeight }}>\r\n                <div style={borderTopStyle}></div>\r\n            </div>\r\n            <span style={{ marginLeft: 5 }}>{label}</span>\r\n        </div>\r\n    )\r\n}"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,eAAe,SAASC,KAAT,OAAoO;EAAA;;EAAA,IAAnN;IAAEC,KAAF;IAASC,SAAT;IAAoBC,QAApB;IAA8BC,WAA9B;IAA2CC,YAA3C;IAAyDC,gBAAzD;IAA2EC,aAA3E;IAA0FC,kBAA1F;IAA8GC,cAA9G;IAA8HC,aAA9H;IAA6IC,WAA7I;IAA0JC,MAA1J;IAAkKC,aAAlK;IAAiLC,UAAjL;IAA6LC,MAA7L;IAAqMC;EAArM,CAAmN;EAE/O,MAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCnB,QAAQ,CAAC,KAAD,CAAlD;EACA,MAAM,CAACoB,SAAD,EAAYC,YAAZ,IAA4BrB,QAAQ,CAAC,IAAD,CAA1C;EAGAD,SAAS,CAAC,MAAM;IACZoB,gBAAgB,CAAC,CAACD,aAAF,CAAhB,CADY,CAEZ;EACH,CAHQ,EAGN,EAHM,CAAT;;EAMA,SAASI,gBAAT,GAA4B;IACxBf,gBAAgB,CAAC,CAACC,aAAF,CAAhB;EACH;;EAED,SAASe,SAAT,GAAsB;IAClBb,cAAc,CAAC,KAAD,CAAd;IACAJ,YAAY,CAAC,CAACO,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,EAAaC,aAAb,CAAD,EAA8B,cAA9B,CAAD,CAAZ;IACAG,SAAS,CAAC,CAACD,MAAF,CAAT;EACH;;EAED,SAASQ,SAAT,CAAoBC,IAApB,EAA0B;IACtBf,cAAc,CAAC,KAAD,CAAd;IACAC,aAAa,CAACc,IAAI,CAACC,WAAL,CAAiBX,UAAjB,EAA6BY,iBAA9B,CAAb;IACAlB,kBAAkB,CAACM,UAAD,CAAlB;IACAE,SAAS,CAAC,CAACD,MAAF,CAAT;EACH;;EAED,SAASY,aAAT,GAA0B;IACtBlB,cAAc,CAAC,SAAD,CAAd;IACAC,aAAa,CAACP,QAAQ,CAACsB,WAAT,CAAqBZ,aAArB,EAAoCe,OAApC,CAA4CF,iBAA7C,CAAb;IACAlB,kBAAkB,CAACK,aAAD,CAAlB;IACAG,SAAS,CAAC,CAACD,MAAF,CAAT;EACH;;EAID,SAASc,sBAAT,GAAkC;IAC9B,QAAQlB,WAAR;MACI,KAAK,CAAL;QACIW,SAAS;QACT;;MAEJ,KAAK,CAAL;QACIQ,KAAK,CAAC,0DAA0DlB,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,EAAaC,aAAb,CAA1D,GAAwF,cAAzF,CAAL,CACKkB,IADL,CACWC,IAAD,IAAUA,IAAI,CAACC,IAAL,EADpB,EAEKF,IAFL,CAEWG,IAAD,IAAU;UACR,MAAMV,IAAI,GAAGU,IAAI,CAACC,KAAL,CAAW,CAAX,EAAcX,IAA3B;UACApB,WAAW,CAACoB,IAAD,CAAX;QACP,CALL;QAMA;;MAEJ,KAAK,CAAL;QACIM,KAAK,CAAC,0DAA0DlB,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,EAAaV,SAAb,CAA1D,GAAoF,cAArF,CAAL,CACC6B,IADD,CACOC,IAAD,IAAUA,IAAI,CAACC,IAAL,EADhB,EAECF,IAFD,CAEOG,IAAD,IAAU;UACZ,MAAMV,IAAI,GAAGU,IAAI,CAACC,KAAL,CAAW,CAAX,EAAcX,IAA3B;UACQpB,WAAW,CAACoB,IAAD,CAAX;QACX,CALD;QAMA;;MAEJ;QACI;IAxBR;EA0BH;;EAED,IAAIY,YAAY,GAAG,CAAnB;EACA,IAAIC,SAAS,GAAG,CAAhB;EACA,IAAIC,eAAJ;EACA,IAAIC,YAAY,GAAG,CAAnB;;EAEA,IAAGC,QAAQ,CAACC,cAAT,CAAwBxC,KAAxB,CAAH,EAAmC;IAC/BqC,eAAe,GAAGE,QAAQ,CAACC,cAAT,CAAwBxC,KAAxB,EAA+ByC,YAAjD;EACH;;EAED,IAAG5B,UAAU,KAAKF,MAAM,CAACD,WAAD,CAAN,CAAoBE,aAApB,EAAmC8B,MAAnC,GAA0C,CAA5D,EAA+D;IAC3DP,YAAY,GAAG,CAAf;EACH;;EAED,IAAGzB,WAAW,KAAK,CAAnB,EAAsB;IAClB0B,SAAS,GAAG,CAAZ;EACH;;EAED,IAAGvB,UAAU,KAAKF,MAAM,CAACD,WAAD,CAAN,CAAoBE,aAApB,EAAmC8B,MAAnC,GAA0C,CAA5D,EAA+D;IAC3DJ,YAAY,GAAG,CAAf;EACH;;EAGD,MAAMK,cAAc,GAAG;IACnBC,MAAM,EAAEP,eAAe,GAAC,CADL;IACQQ,KAAK,EAAE,EADf;IAEnBC,UAAU,EAAE,OAFO;IAEEC,eAAe,EAAE,mBAFnB;IAEwCC,eAAe,EAAEZ,SAFzD;IAGnBa,YAAY,EAAE,OAHK;IAGIC,WAAW,EAAE,mBAHjB;IAGsCC,WAAW,EAAEf,SAHnD;IAInBE,YAAY,EAAG,eAAcA,YAAY,GAAC,EAAG;EAJ1B,CAAvB;EAQA,oBACI;IAAK,OAAO,EAAElB,gBAAd;IAAgC,aAAa,EAAEQ,sBAA/C;IAAuE,KAAK,EAAE;MAAEgB,MAAM,EAAE,aAAV;MAAyBC,KAAK,EAAE,GAAhC;MAAqCO,OAAO,EAAE,MAA9C;MAAsDC,aAAa,EAAE,KAArE;MAA4EC,UAAU,EAAE,QAAxF;MAAkGC,SAAS,EAAG,GAAEpB,YAAa;IAA7H,CAA9E;IAAA,wBACI;MAAK,KAAK,EAAE;QAAEiB,OAAO,EAAE,MAAX;QAAmBC,aAAa,EAAE,QAAlC;QAA4CT,MAAM,EAAEP;MAApD,CAAZ;MAAA,uBACI;QAAK,KAAK,EAAEM;MAAZ;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADJ,eAII;MAAM,KAAK,EAAE;QAAEa,UAAU,EAAE;MAAd,CAAb;MAAA,UAAiCxD;IAAjC;MAAA;MAAA;MAAA;IAAA,QAJJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAQH;;GAzGuBD,K;;KAAAA,K"},"metadata":{},"sourceType":"module"}