{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\OneDrive\\\\Documents\\\\Code\\\\helix-app\\\\client\\\\src\\\\components\\\\views\\\\sequence-header\\\\AnnotationHandler.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport PaintBrush from '../../assets/PaintBrush.png';\nimport BookIcon from '../../assets/BookIcon.png';\nimport Annotation from '../Annotation';\nimport Note from '../Note';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AnnotationHandler(_ref) {\n  _s();\n\n  let {\n    geneData,\n    annotations,\n    annotationText,\n    setAnnotationText\n  } = _ref;\n  const [annotationSequence, setAnnotationSequence] = useState([]);\n  const [triggerHighlight, setTriggerHighlight] = useState(false);\n  const [isAnnotating, setIsAnnotating] = useState(false);\n  const [annotationToggle, setAnnotationToggle] = useState(false);\n  const [paintbrushColor, setPaintbrushColor] = useState();\n  const [bookColor, setBookColor] = useState(); // custom annotation handling\n\n  function handleAddAnnotation() {\n    setIsAnnotating(!isAnnotating);\n  }\n\n  useEffect(() => {\n    if (isAnnotating === true) {\n      document.addEventListener('mousedown', handleStartDrag, {\n        once: true\n      });\n      document.addEventListener('mouseup', handleDragEnd, {\n        once: true\n      });\n    } // eslint-disable-next-line\n\n  }, [isAnnotating, triggerHighlight]);\n  const highlightedBp = [];\n\n  function handleStartDrag(event) {\n    highlightedBp.splice(0, highlightedBp.length);\n\n    if (event.target.className === 'bp') {\n      document.getElementById(event.target.id).style.backgroundColor = 'yellow';\n      highlightedBp.push(event.target.id);\n      document.addEventListener('mouseover', handleWhileDragging);\n    }\n  }\n\n  function handleWhileDragging(event) {\n    const basepair = event.target.id;\n\n    if (event.target.className === 'bp') {\n      if (parseInt(basepair) === parseInt(Math.max(...highlightedBp) + 1) || parseInt(basepair) === parseInt(Math.min(...highlightedBp) - 1)) {\n        document.getElementById(event.target.id).style.backgroundColor = 'yellow';\n        highlightedBp.push(event.target.id);\n      }\n    }\n  }\n\n  function handleDragEnd() {\n    const bpLowToHigh = highlightedBp.sort((a, b) => a - b);\n    setAnnotationSequence(bpLowToHigh);\n    document.removeEventListener('mouseover', handleWhileDragging);\n  }\n\n  useEffect(() => {\n    if (annotationSequence.length > 1) {\n      setAnnotationText( /*#__PURE__*/_jsxDEV(Annotation, {\n        basepairs: annotationSequence,\n        transcriptIndex: -1,\n        isProtein: false,\n        annotationToggle: annotationToggle,\n        triggerAnnotation: triggerAnnotation,\n        setTriggerAnnotation: setTriggerAnnotation,\n        setAnnotationText: setAnnotationText,\n        setTriggerHighlight: setTriggerHighlight,\n        triggerHighlight: triggerHighlight,\n        geneData: geneData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 31\n      }, this));\n    } // eslint-disable-next-line\n\n  }, [annotationSequence]); // enable annotating\n\n  useEffect(() => {\n    if (isAnnotating === true) {\n      setPaintbrushColor('white');\n    } else {\n      setPaintbrushColor('unset');\n    }\n  }, [isAnnotating]);\n\n  function toggleAnnotations() {\n    setAnnotationToggle(!annotationToggle);\n  }\n\n  function showAnnotations(annotations) {\n    const basepairIDs = [];\n    annotations.forEach(annotation => {\n      for (let i = annotation.begin; i <= annotation.end; i++) {\n        basepairIDs.push(i);\n      }\n    });\n    basepairIDs.forEach(id => {\n      document.getElementById(id).style.backgroundColor = 'yellow';\n    });\n  }\n\n  function hideAnnotations(annotations) {\n    const basepairIDs = [];\n    setAnnotationText(null);\n    annotations.forEach(annotation => {\n      for (let i = annotation.begin; i <= annotation.end; i++) {\n        basepairIDs.push(i);\n      }\n    });\n    basepairIDs.forEach(id => {\n      if (document.getElementById(id)) {\n        document.getElementById(id).style.backgroundColor = 'unset';\n      }\n    });\n  }\n\n  useEffect(() => {\n    if (annotationToggle === true) {\n      setBookColor('white');\n      showAnnotations(annotations);\n    } else {\n      setBookColor('unset');\n      hideAnnotations(annotations);\n    } // eslint-disable-next-line\n\n  }, [annotationToggle, annotations]);\n\n  function showNote(event) {\n    if (event.target.className === 'bp') {\n      annotations.forEach(annotation => {\n        const basepairIDs = [];\n\n        for (let i = annotation.begin; i <= annotation.end; i++) {\n          basepairIDs.push(i);\n        }\n\n        basepairIDs.forEach(id => {\n          if (parseInt(event.target.id) === id) {\n            setAnnotationText( /*#__PURE__*/_jsxDEV(Note, {\n              basepairs: basepairIDs,\n              content: annotation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 43\n            }, this));\n          }\n        });\n      });\n    } else {\n      setAnnotationText(null);\n    }\n  }\n\n  useEffect(() => {\n    // bug: remove event listener when gene changes\n    if (annotationToggle === true) {\n      document.addEventListener('click', showNote);\n    }\n\n    return () => {\n      document.removeEventListener('click', showNote);\n    }; // eslint-disable-next-line\n  }, [annotationToggle]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100%',\n      width: 'fit-content'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        paddingLeft: 12,\n        paddingRight: 12,\n        backgroundColor: bookColor\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: toggleAnnotations,\n        src: BookIcon,\n        style: {\n          height: '72%',\n          cursor: 'pointer'\n        },\n        alt: \"paint icon: make an annotation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 174\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        paddingLeft: 6,\n        paddingRight: 6,\n        backgroundColor: paintbrushColor\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: handleAddAnnotation,\n        src: PaintBrush,\n        style: {\n          height: '115%',\n          cursor: 'pointer'\n        },\n        alt: \"paint icon: make an annotation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 177\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this), annotationText]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AnnotationHandler, \"wYwcID2h1t8o3A2etlLGOpO5wlQ=\");\n\n_c = AnnotationHandler;\n\nvar _c;\n\n$RefreshReg$(_c, \"AnnotationHandler\");","map":{"version":3,"names":["useState","useEffect","PaintBrush","BookIcon","Annotation","Note","AnnotationHandler","geneData","annotations","annotationText","setAnnotationText","annotationSequence","setAnnotationSequence","triggerHighlight","setTriggerHighlight","isAnnotating","setIsAnnotating","annotationToggle","setAnnotationToggle","paintbrushColor","setPaintbrushColor","bookColor","setBookColor","handleAddAnnotation","document","addEventListener","handleStartDrag","once","handleDragEnd","highlightedBp","event","splice","length","target","className","getElementById","id","style","backgroundColor","push","handleWhileDragging","basepair","parseInt","Math","max","min","bpLowToHigh","sort","a","b","removeEventListener","triggerAnnotation","setTriggerAnnotation","toggleAnnotations","showAnnotations","basepairIDs","forEach","annotation","i","begin","end","hideAnnotations","showNote","height","width","display","alignItems","justifyContent","paddingLeft","paddingRight","cursor"],"sources":["C:/Users/micha/OneDrive/Documents/Code/helix-app/client/src/components/views/sequence-header/AnnotationHandler.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport PaintBrush from '../../assets/PaintBrush.png'\r\nimport BookIcon from '../../assets/BookIcon.png'\r\nimport Annotation from '../Annotation'\r\nimport Note from '../Note'\r\n\r\nexport default function AnnotationHandler ( { geneData, annotations, annotationText, setAnnotationText } ) {\r\n\r\n    const [annotationSequence, setAnnotationSequence] = useState([])\r\n    const [triggerHighlight, setTriggerHighlight] = useState(false)\r\n    const [isAnnotating, setIsAnnotating] = useState(false)\r\n    const [annotationToggle, setAnnotationToggle] = useState(false)\r\n    const [paintbrushColor, setPaintbrushColor] = useState()\r\n    const [bookColor, setBookColor] = useState()\r\n\r\n\r\n    // custom annotation handling\r\n    function handleAddAnnotation() {\r\n        setIsAnnotating(!isAnnotating)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(isAnnotating === true) {\r\n            document.addEventListener('mousedown', handleStartDrag, {once: true})\r\n            document.addEventListener('mouseup', handleDragEnd, {once: true})\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [isAnnotating, triggerHighlight])\r\n\r\n    const highlightedBp = []\r\n\r\n    function handleStartDrag(event) {\r\n        highlightedBp.splice(0, highlightedBp.length)\r\n        if(event.target.className === 'bp') {\r\n            document.getElementById(event.target.id).style.backgroundColor = 'yellow'\r\n            highlightedBp.push(event.target.id)\r\n            document.addEventListener('mouseover', handleWhileDragging)\r\n        }\r\n    }\r\n\r\n    function handleWhileDragging(event) {\r\n        const basepair = event.target.id\r\n        if(event.target.className === 'bp') {\r\n            if(parseInt(basepair) === parseInt(Math.max(...highlightedBp)+1) || parseInt(basepair) ===  parseInt(Math.min(...highlightedBp)-1)) {\r\n                document.getElementById(event.target.id).style.backgroundColor = 'yellow'\r\n                highlightedBp.push(event.target.id)\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleDragEnd() {\r\n        const bpLowToHigh = highlightedBp.sort((a, b) => a - b)\r\n        setAnnotationSequence(bpLowToHigh)\r\n        document.removeEventListener('mouseover', handleWhileDragging)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(annotationSequence.length > 1) {\r\n            setAnnotationText(<Annotation basepairs={annotationSequence} transcriptIndex={-1} isProtein={false} annotationToggle={annotationToggle} triggerAnnotation={triggerAnnotation} setTriggerAnnotation={setTriggerAnnotation} setAnnotationText={setAnnotationText} setTriggerHighlight={setTriggerHighlight} triggerHighlight={triggerHighlight} geneData={geneData}/>)\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [annotationSequence])\r\n\r\n    // enable annotating\r\n    useEffect(() => {\r\n        if(isAnnotating === true) {\r\n        setPaintbrushColor('white')\r\n        } \r\n        else {\r\n            setPaintbrushColor('unset')\r\n        }\r\n    }, [isAnnotating])\r\n\r\n\r\n    function toggleAnnotations () {\r\n        setAnnotationToggle(!annotationToggle)\r\n    }\r\n\r\n    function showAnnotations(annotations) {\r\n        const basepairIDs = []\r\n        annotations.forEach((annotation) => {\r\n            for(let i=annotation.begin; i <= annotation.end; i++) {\r\n                basepairIDs.push(i)\r\n            }\r\n        })\r\n        basepairIDs.forEach((id) => {\r\n            document.getElementById(id).style.backgroundColor = 'yellow'\r\n        })\r\n    }\r\n\r\n    function hideAnnotations(annotations) {\r\n        const basepairIDs = []\r\n        setAnnotationText(null)\r\n        annotations.forEach((annotation) => {\r\n            for(let i=annotation.begin; i <= annotation.end; i++) {\r\n                basepairIDs.push(i)\r\n            }\r\n        })\r\n        basepairIDs.forEach((id) => {\r\n            if(document.getElementById(id)) {\r\n                document.getElementById(id).style.backgroundColor = 'unset'\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(annotationToggle === true) {\r\n            setBookColor('white')\r\n            showAnnotations(annotations)\r\n        } \r\n        else {\r\n            setBookColor('unset')\r\n            hideAnnotations(annotations)\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [annotationToggle, annotations])\r\n\r\n\r\n    function showNote(event) {\r\n        if(event.target.className === 'bp') {\r\n            annotations.forEach((annotation) => {\r\n                const basepairIDs = []\r\n                for(let i=annotation.begin; i <= annotation.end; i++) {\r\n                    basepairIDs.push(i)\r\n                }\r\n                basepairIDs.forEach((id) => {\r\n                    if(parseInt(event.target.id) === id) {\r\n                        setAnnotationText(<Note basepairs={basepairIDs} content={annotation}/>)\r\n                    }\r\n                })                 \r\n            })\r\n        }\r\n        else {\r\n            setAnnotationText(null)\r\n        }\r\n    }\r\n\r\n    useEffect(() => { // bug: remove event listener when gene changes\r\n        if(annotationToggle === true) {\r\n            document.addEventListener('click', showNote)\r\n        } \r\n        return () => {\r\n            document.removeEventListener('click', showNote)\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [annotationToggle])\r\n\r\n\r\n\r\n    return (\r\n        <div style={{ height: '100%', width: 'fit-content' }}>\r\n            <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%', paddingLeft: 12, paddingRight: 12, backgroundColor: bookColor }}><img onClick={toggleAnnotations} src={BookIcon} style={{ height: '72%', cursor: 'pointer' }} alt=\"paint icon: make an annotation\" /> </span>\r\n            <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%', paddingLeft: 6, paddingRight: 6, backgroundColor: paintbrushColor}}><img onClick={handleAddAnnotation} src={PaintBrush} style={{ height: '115%', cursor: 'pointer' }} alt=\"paint icon: make an annotation\" /> </span>\r\n            {annotationText}\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}