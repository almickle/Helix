{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\OneDrive\\\\Documents\\\\Code\\\\helix-app\\\\client\\\\src\\\\components\\\\views\\\\ViewProtein.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport XMLParser from 'react-xml-parser';\nimport SequenceRender from \"./SequenceRender\";\nimport InfoPanel from \"./InfoPanel\";\nimport LoadingGIF from \"./LoadingGIF\";\nimport SequenceHeader from \"./sequence-header/SequenceHeader\";\nimport Annotation from \"./Annotation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ViewProtein(_ref) {\n  _s();\n\n  let {\n    geneData,\n    annotationText,\n    setAnnotationText,\n    sequenceID,\n    transcriptIndex,\n    reload,\n    rerenderLibrary,\n    setRerenderLibrary\n  } = _ref;\n  const dnaContainerSize = 90;\n  const infoPanelLabels = {\n    type: 'Protein',\n    unit: 'aa',\n    info: ['Isoform', geneData.transcripts[transcriptIndex].protein.isoform_name]\n  };\n  const [visibility, setVisibility] = useState('hidden');\n  const [iconVisibility, setIconVisibility] = useState('visible');\n  const [showMoreButton, setShowMoreButton] = useState();\n  const [rawSequence, setRawSequence] = useState('');\n  const [sequenceArray, setSequenceArray] = useState([]);\n  const [selectedRegion, setSelectedRegion] = useState([0, 10000]);\n  const [sequenceStyle, setSequenceStyle] = useState(false);\n  const [basePairColors, setBasePairColors] = useState({\n    A: 'black',\n    T: 'black',\n    G: 'black',\n    C: 'black'\n  });\n  const [annotationSequence, setAnnotationSequence] = useState([]);\n  const [isAnnotating, setIsAnnotating] = useState(false);\n  const [triggerHighlight, setTriggerHighlight] = useState(false);\n  const [triggerAnnotation, setTriggerAnnotation] = useState(false);\n  const [annotationToggle, setAnnotationToggle] = useState(false);\n  const [annotations, setAnnotations] = useState([]);\n  useEffect(() => {\n    fetch('https://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=sequences&id=' + sequenceID + '&rettype=FASTA&retmode=xml').then(resp => resp.text()).then(data => {\n      const seq = new XMLParser().parseFromString(data).children[0].children[0].children[6].value;\n      setRawSequence(seq);\n      setSequenceArray(seq.split(''));\n    });\n  }, [sequenceID]);\n  useEffect(() => {\n    switch (sequenceStyle) {\n      case false:\n        setBasePairColors({\n          A: 'black',\n          T: 'black',\n          G: 'black',\n          C: 'black'\n        });\n        break;\n\n      case true:\n        setBasePairColors({\n          A: 'blue',\n          T: 'yellow',\n          G: 'green',\n          C: 'red'\n        });\n        break;\n\n      default:\n        break;\n    }\n  }, [sequenceStyle]); // custom annotation handling\n\n  function handleAddAnnotation() {\n    setIsAnnotating(!isAnnotating);\n  }\n\n  useEffect(() => {\n    if (isAnnotating === true) {\n      document.addEventListener('mousedown', handleStartDrag, {\n        once: true\n      });\n      document.addEventListener('mouseup', handleDragEnd, {\n        once: true\n      });\n    } // eslint-disable-next-line\n\n  }, [isAnnotating, triggerHighlight]);\n  const highlightedBp = [];\n\n  function handleStartDrag(event) {\n    highlightedBp.splice(0, highlightedBp.length);\n\n    if (event.target.className === 'bp') {\n      document.getElementById(event.target.id).style.backgroundColor = 'yellow';\n      highlightedBp.push(event.target.id);\n      document.addEventListener('mouseover', handleWhileDragging);\n    }\n  }\n\n  function handleWhileDragging(event) {\n    const basepair = event.target.id;\n\n    if (event.target.className === 'bp') {\n      if (parseInt(basepair) === parseInt(Math.max(...highlightedBp) + 1) || parseInt(basepair) === parseInt(Math.min(...highlightedBp) - 1)) {\n        document.getElementById(event.target.id).style.backgroundColor = 'yellow';\n        highlightedBp.push(event.target.id);\n      }\n    }\n  }\n\n  function handleDragEnd() {\n    const bpLowToHigh = highlightedBp.sort((a, b) => a - b);\n    setAnnotationSequence(bpLowToHigh);\n    document.removeEventListener('mouseover', handleWhileDragging);\n  }\n\n  useEffect(() => {\n    if (annotationSequence.length > 1) {\n      setAnnotationText( /*#__PURE__*/_jsxDEV(Annotation, {\n        basepairs: annotationSequence,\n        transcriptIndex: transcriptIndex,\n        isProtein: true,\n        annotationToggle: annotationToggle,\n        triggerAnnotation: triggerAnnotation,\n        setTriggerAnnotation: setTriggerAnnotation,\n        setAnnotationText: setAnnotationText,\n        setTriggerHighlight: setTriggerHighlight,\n        triggerHighlight: triggerHighlight,\n        geneData: geneData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 31\n      }, this));\n    } // eslint-disable-next-line\n\n  }, [annotationSequence]); // get annotations\n\n  useEffect(() => {\n    fetch('/annotations', {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        symbol: geneData.symbol\n      })\n    }).then(resp => resp.json()).then(data => setAnnotations(data));\n  }, [geneData, triggerAnnotation]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"workspace\",\n    style: {\n      height: 'fit-content',\n      width: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      backgroundColor: 'white'\n    },\n    children: [/*#__PURE__*/_jsxDEV(SequenceHeader, {\n      geneData: geneData,\n      annotations: annotations,\n      annotationToggle: annotationToggle,\n      setAnnotationToggle: setAnnotationToggle,\n      handleAddAnnotation: handleAddAnnotation,\n      setAnnotationText: setAnnotationText,\n      triggerAnnotation: triggerAnnotation,\n      sequenceStyle: sequenceStyle,\n      setSequenceStyle: setSequenceStyle,\n      rerenderLibrary: rerenderLibrary,\n      setRerenderLibrary: setRerenderLibrary,\n      rawSequence: rawSequence,\n      isAnnotating: isAnnotating\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SequenceRender, {\n      sequenceArray: sequenceArray,\n      annotationText: annotationText,\n      setIconVisibility: setIconVisibility,\n      setVisibility: setVisibility,\n      visibility: visibility,\n      basePairColors: basePairColors,\n      selectedRegion: selectedRegion,\n      setShowMoreButton: setShowMoreButton,\n      setSelectedRegion: setSelectedRegion,\n      reload: reload\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LoadingGIF, {\n      iconVisibility: iconVisibility,\n      dnaContainerSize: dnaContainerSize\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this), showMoreButton, /*#__PURE__*/_jsxDEV(InfoPanel, {\n      geneData: geneData,\n      sequenceArray: sequenceArray,\n      infoPanelLabels: infoPanelLabels\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ViewProtein, \"sN254g/gb0VJgUgKYVHRQkedG1Y=\");\n\n_c = ViewProtein;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewProtein\");","map":{"version":3,"names":["useState","useEffect","XMLParser","SequenceRender","InfoPanel","LoadingGIF","SequenceHeader","Annotation","ViewProtein","geneData","annotationText","setAnnotationText","sequenceID","transcriptIndex","reload","rerenderLibrary","setRerenderLibrary","dnaContainerSize","infoPanelLabels","type","unit","info","transcripts","protein","isoform_name","visibility","setVisibility","iconVisibility","setIconVisibility","showMoreButton","setShowMoreButton","rawSequence","setRawSequence","sequenceArray","setSequenceArray","selectedRegion","setSelectedRegion","sequenceStyle","setSequenceStyle","basePairColors","setBasePairColors","A","T","G","C","annotationSequence","setAnnotationSequence","isAnnotating","setIsAnnotating","triggerHighlight","setTriggerHighlight","triggerAnnotation","setTriggerAnnotation","annotationToggle","setAnnotationToggle","annotations","setAnnotations","fetch","then","resp","text","data","seq","parseFromString","children","value","split","handleAddAnnotation","document","addEventListener","handleStartDrag","once","handleDragEnd","highlightedBp","event","splice","length","target","className","getElementById","id","style","backgroundColor","push","handleWhileDragging","basepair","parseInt","Math","max","min","bpLowToHigh","sort","a","b","removeEventListener","method","credentials","headers","body","JSON","stringify","symbol","json","height","width","display","flexDirection","alignItems"],"sources":["C:/Users/micha/OneDrive/Documents/Code/helix-app/client/src/components/views/ViewProtein.jsx"],"sourcesContent":["import { useState } from \"react\"\r\nimport { useEffect } from \"react\"\r\nimport XMLParser from 'react-xml-parser'\r\nimport SequenceRender from \"./SequenceRender\"\r\nimport InfoPanel from \"./InfoPanel\"\r\nimport LoadingGIF from \"./LoadingGIF\"\r\nimport SequenceHeader from \"./sequence-header/SequenceHeader\"\r\nimport Annotation from \"./Annotation\"\r\n\r\nexport default function ViewProtein ( { geneData, annotationText, setAnnotationText, sequenceID, transcriptIndex, reload, rerenderLibrary, setRerenderLibrary } ) {\r\n\r\n    const dnaContainerSize = 90\r\n    const infoPanelLabels = {type: 'Protein', unit: 'aa', info: ['Isoform', geneData.transcripts[transcriptIndex].protein.isoform_name]}\r\n\r\n    const [visibility, setVisibility] = useState('hidden')\r\n    const [iconVisibility, setIconVisibility] = useState('visible')\r\n    const [showMoreButton, setShowMoreButton] = useState()\r\n\r\n    const [rawSequence, setRawSequence] = useState('')\r\n    const [sequenceArray, setSequenceArray] = useState([])\r\n    const [selectedRegion, setSelectedRegion] = useState([0, 10000])\r\n \r\n    const [sequenceStyle, setSequenceStyle] = useState(false)\r\n    const [basePairColors, setBasePairColors] = useState({A: 'black', T: 'black', G: 'black', C: 'black'})\r\n\r\n    const [annotationSequence, setAnnotationSequence] = useState([])\r\n    const [isAnnotating, setIsAnnotating] = useState(false)\r\n    const [triggerHighlight, setTriggerHighlight] = useState(false)\r\n    const [triggerAnnotation, setTriggerAnnotation] = useState(false)\r\n    const [annotationToggle, setAnnotationToggle] = useState(false)\r\n    const [annotations, setAnnotations] = useState([])\r\n\r\n\r\n    useEffect(() => {\r\n        fetch('https://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=sequences&id=' + sequenceID + '&rettype=FASTA&retmode=xml')\r\n        .then(resp => resp.text())\r\n        .then(data => { const seq = new XMLParser().parseFromString(data).children[0].children[0].children[6].value\r\n                        setRawSequence(seq)\r\n                        setSequenceArray(seq.split(''))\r\n        })\r\n    }, [sequenceID])\r\n\r\n\r\n    useEffect(() => {\r\n        switch (sequenceStyle) {\r\n            case false:\r\n                setBasePairColors({A: 'black', T: 'black', G: 'black', C: 'black'})\r\n                break;\r\n\r\n            case true:\r\n                setBasePairColors({A: 'blue', T: 'yellow', G: 'green', C: 'red'})\r\n                break\r\n\r\n            default:\r\n                break\r\n        }\r\n    }, [sequenceStyle])\r\n\r\n\r\n\r\n    // custom annotation handling\r\n    function handleAddAnnotation() {\r\n        setIsAnnotating(!isAnnotating)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(isAnnotating === true) {\r\n            document.addEventListener('mousedown', handleStartDrag, {once: true})\r\n            document.addEventListener('mouseup', handleDragEnd, {once: true})\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [isAnnotating, triggerHighlight])\r\n\r\n    const highlightedBp = []\r\n\r\n    function handleStartDrag(event) {\r\n        highlightedBp.splice(0, highlightedBp.length)\r\n        if(event.target.className === 'bp') {\r\n            document.getElementById(event.target.id).style.backgroundColor = 'yellow'\r\n            highlightedBp.push(event.target.id)\r\n            document.addEventListener('mouseover', handleWhileDragging)\r\n        }\r\n    }\r\n\r\n    function handleWhileDragging(event) {\r\n        const basepair = event.target.id\r\n        if(event.target.className === 'bp') {\r\n            if(parseInt(basepair) === parseInt(Math.max(...highlightedBp)+1) || parseInt(basepair) ===  parseInt(Math.min(...highlightedBp)-1)) {\r\n                document.getElementById(event.target.id).style.backgroundColor = 'yellow'\r\n                highlightedBp.push(event.target.id)\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleDragEnd() {\r\n        const bpLowToHigh = highlightedBp.sort((a, b) => a - b)\r\n        setAnnotationSequence(bpLowToHigh)\r\n        document.removeEventListener('mouseover', handleWhileDragging)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(annotationSequence.length > 1) {\r\n            setAnnotationText(<Annotation basepairs={annotationSequence} transcriptIndex={transcriptIndex} isProtein={true} annotationToggle={annotationToggle} triggerAnnotation={triggerAnnotation} setTriggerAnnotation={setTriggerAnnotation} setAnnotationText={setAnnotationText} setTriggerHighlight={setTriggerHighlight} triggerHighlight={triggerHighlight} geneData={geneData}/>)\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [annotationSequence])\r\n\r\n    // get annotations\r\n    useEffect(() => {\r\n        fetch('/annotations', {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ symbol: geneData.symbol })\r\n            })\r\n            .then(resp => resp.json())\r\n            .then(data => setAnnotations(data))\r\n    }, [geneData, triggerAnnotation])\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div id=\"workspace\" style={{ height: 'fit-content', width: '100%', display: 'flex', flexDirection: 'column', alignItems: 'center', backgroundColor: 'white' }}>\r\n            <SequenceHeader geneData={geneData} annotations={annotations} annotationToggle={annotationToggle} setAnnotationToggle={setAnnotationToggle} handleAddAnnotation={handleAddAnnotation} setAnnotationText={setAnnotationText} triggerAnnotation={triggerAnnotation} sequenceStyle={sequenceStyle} setSequenceStyle={setSequenceStyle} rerenderLibrary={rerenderLibrary} setRerenderLibrary={setRerenderLibrary} rawSequence={rawSequence} isAnnotating={isAnnotating}/>\r\n            <SequenceRender sequenceArray={sequenceArray} annotationText={annotationText} setIconVisibility={setIconVisibility} setVisibility={setVisibility} visibility={visibility} basePairColors={basePairColors} selectedRegion={selectedRegion} setShowMoreButton={setShowMoreButton} setSelectedRegion={setSelectedRegion} reload={reload}/>\r\n            <LoadingGIF iconVisibility={iconVisibility} dnaContainerSize={dnaContainerSize}/>\r\n            {showMoreButton}\r\n            <InfoPanel geneData={geneData} sequenceArray={sequenceArray} infoPanelLabels={infoPanelLabels}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}