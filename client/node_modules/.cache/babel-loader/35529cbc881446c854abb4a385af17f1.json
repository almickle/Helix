{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\OneDrive\\\\Documents\\\\Code\\\\helix-app\\\\client\\\\src\\\\components\\\\views\\\\Annotation.jsx\";\nimport CheckYes from '../assets/CheckYes.png';\nimport CheckNo from '../assets/CheckNo.png';\nimport Note from './Note';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Annotation(_ref) {\n  let {\n    basepairs,\n    transcriptIndex,\n    isProtein,\n    annotationToggle,\n    setAnnotationText,\n    triggerAnnotation,\n    setTriggerAnnotation,\n    setTriggerHighlight,\n    triggerHighlight,\n    geneData\n  } = _ref;\n  const annotationStyle = {\n    height: 200,\n    width: 180,\n    position: 'absolute',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    backgroundColor: 'white',\n    border: 'solid',\n    borderWidth: 1,\n    borderRadius: 10,\n    left: document.getElementById(basepairs[0]).offsetLeft + (basepairs.length * 20 - 180) / 2,\n    top: document.getElementById(basepairs[0]).offsetTop + 30 - document.getElementById('main').scrollTop,\n    opacity: '90%'\n  };\n\n  function handleSaveAnnotation() {\n    const title = document.getElementById('annotation-title').value;\n    const body = document.getElementById('annotation-body').value;\n\n    if (annotationToggle === true) {\n      setAnnotationText( /*#__PURE__*/_jsxDEV(Note, {\n        basepairs: basepairs,\n        content: {\n          title: title,\n          body: body,\n          begin: basepairs[0],\n          end: basepairs[basepairs.length - 1]\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 31\n      }, this));\n    } else {\n      setAnnotationText(null);\n    }\n\n    fetch('https://www.helixgenomes.com/newannotation', {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        symbol: geneData.symbol,\n        transcriptIndex: transcriptIndex,\n        protein: isProtein,\n        title: title,\n        body: body,\n        begin: parseInt(basepairs[0]),\n        end: parseInt(basepairs[basepairs.length - 1])\n      })\n    }).then(() => setTriggerAnnotation(!triggerAnnotation));\n  }\n\n  function handleCancelAnnotation() {\n    setAnnotationText(null);\n    basepairs.forEach(id => {\n      document.getElementById(id).style.backgroundColor = 'unset';\n    });\n    setTriggerHighlight(!triggerHighlight);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: annotationStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"annotation-title\",\n      style: {\n        height: '14%',\n        width: '78%',\n        marginBottom: 10,\n        fontSize: 16,\n        marginTop: 12\n      },\n      type: \"text\",\n      placeholder: \"Annotation title..\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      id: \"annotation-body\",\n      style: {\n        height: '50%',\n        width: '80%'\n      },\n      placeholder: \"custom text here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-end',\n        height: '12%',\n        width: '80%',\n        marginTop: 7\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: CheckNo,\n        onClick: handleCancelAnnotation,\n        style: {\n          height: '100%',\n          cursor: 'pointer'\n        },\n        alt: \"no x icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: CheckYes,\n        onClick: handleSaveAnnotation,\n        style: {\n          height: '100%',\n          cursor: 'pointer'\n        },\n        alt: \"yes check icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n_c = Annotation;\n\nvar _c;\n\n$RefreshReg$(_c, \"Annotation\");","map":{"version":3,"names":["CheckYes","CheckNo","Note","Annotation","basepairs","transcriptIndex","isProtein","annotationToggle","setAnnotationText","triggerAnnotation","setTriggerAnnotation","setTriggerHighlight","triggerHighlight","geneData","annotationStyle","height","width","position","display","flexDirection","alignItems","backgroundColor","border","borderWidth","borderRadius","left","document","getElementById","offsetLeft","length","top","offsetTop","scrollTop","opacity","handleSaveAnnotation","title","value","body","begin","end","fetch","method","credentials","headers","JSON","stringify","symbol","protein","parseInt","then","handleCancelAnnotation","forEach","id","style","marginBottom","fontSize","marginTop","justifyContent","cursor"],"sources":["C:/Users/micha/OneDrive/Documents/Code/helix-app/client/src/components/views/Annotation.jsx"],"sourcesContent":["import CheckYes from '../assets/CheckYes.png'\r\nimport CheckNo from '../assets/CheckNo.png'\r\nimport Note from './Note'\r\n\r\nexport default function Annotation ( { basepairs, transcriptIndex, isProtein, annotationToggle, setAnnotationText, triggerAnnotation, setTriggerAnnotation, setTriggerHighlight, triggerHighlight, geneData } ) {\r\n\r\n\r\n    const annotationStyle = {\r\n        height: 200, width: 180,\r\n        position: 'absolute', \r\n        display: 'flex', flexDirection: 'column',\r\n        alignItems: 'center',\r\n        backgroundColor: 'white', \r\n        border: 'solid', borderWidth: 1, borderRadius: 10,\r\n        left: document.getElementById(basepairs[0]).offsetLeft+((basepairs.length*20-180)/2), top: document.getElementById(basepairs[0]).offsetTop+30-document.getElementById('main').scrollTop,\r\n        opacity: '90%'\r\n    }\r\n\r\n    function handleSaveAnnotation() {\r\n        const title = document.getElementById('annotation-title').value\r\n        const body = document.getElementById('annotation-body').value\r\n        if(annotationToggle === true) {\r\n            setAnnotationText(<Note basepairs={basepairs} content={{title: title, body: body, begin: basepairs[0], end: basepairs[basepairs.length-1]}}/>)\r\n        }\r\n        else {\r\n            setAnnotationText(null)\r\n        }\r\n        fetch('https://www.helixgenomes.com/newannotation', {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    symbol: geneData.symbol,\r\n                    transcriptIndex: transcriptIndex,\r\n                    protein: isProtein,\r\n                    title: title,\r\n                    body: body,\r\n                    begin: parseInt(basepairs[0]),\r\n                    end: parseInt(basepairs[basepairs.length-1])\r\n                })\r\n            })\r\n        .then(() => setTriggerAnnotation(!triggerAnnotation))\r\n    }  \r\n\r\n    function handleCancelAnnotation() {\r\n        setAnnotationText(null)\r\n        basepairs.forEach((id) => {\r\n            document.getElementById(id).style.backgroundColor = 'unset'\r\n        })\r\n        setTriggerHighlight(!triggerHighlight)\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={annotationStyle}>\r\n            <input id='annotation-title' style={{ height: '14%', width: '78%', marginBottom: 10, fontSize: 16, marginTop: 12 }} type=\"text\" placeholder='Annotation title..'></input>\r\n            <textarea id='annotation-body' style={{ height: '50%', width: '80%' }} placeholder='custom text here'></textarea>\r\n            <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', height: '12%', width: '80%', marginTop: 7 }}>\r\n                <img src={CheckNo} onClick={handleCancelAnnotation} style={{ height: '100%', cursor: 'pointer' }} alt='no x icon'/>\r\n                <img src={CheckYes} onClick={handleSaveAnnotation} style={{ height: '100%', cursor: 'pointer' }} alt='yes check icon'/>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}