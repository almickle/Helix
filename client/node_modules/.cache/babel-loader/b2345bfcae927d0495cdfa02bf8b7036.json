{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\OneDrive\\\\Documents\\\\Code\\\\helix-app\\\\client\\\\src\\\\components\\\\views\\\\sequence-header\\\\SequenceHeader.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport Bookmark from '../../assets/Bookmark.png';\nimport BookmarkColored from '../../assets/BookmarkColored.png';\nimport CopyIcon from '../../assets/CopyIcon.png';\nimport PaintBrush from '../../assets/PaintBrush.png';\nimport Circles from '../../assets/Circles.png';\nimport BookIcon from '../../assets/BookIcon.png';\nimport Note from '../Note';\nimport SeqRange from './SeqRange';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SequenceHeader(_ref) {\n  _s();\n\n  let {\n    geneData,\n    annotations,\n    annotationToggle,\n    setAnnotationToggle,\n    setAnnotationText,\n    sequenceStyle,\n    setSequenceStyle,\n    rerenderLibrary,\n    setRerenderLibrary,\n    rawSequence,\n    handleAddAnnotation,\n    isAnnotating\n  } = _ref;\n  const [inLibrary, setInLibrary] = useState(false);\n  const [bookmarkIcon, setBookmarkIcon] = useState(Bookmark);\n  const [paintbrushColor, setPaintbrushColor] = useState();\n  const [bookColor, setBookColor] = useState(); // note: should migrate header icon functionalities to specialized components\n\n  function setStyling() {\n    setSequenceStyle(!sequenceStyle);\n  }\n\n  function handleAddToClipboard() {\n    navigator.clipboard.writeText(rawSequence);\n  }\n\n  function handleAddToLibrary() {\n    if (inLibrary === true) {\n      fetch('/removegene', {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          symbol: geneData.symbol\n        })\n      }).then(() => {\n        setRerenderLibrary(!rerenderLibrary);\n        setInLibrary(false);\n      });\n    } else {\n      fetch('/addgene', {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          symbol: geneData.symbol,\n          taxon: geneData.taxname\n        })\n      }).then(() => {\n        setRerenderLibrary(!rerenderLibrary);\n        setInLibrary(true);\n      });\n    }\n  } // get library\n\n\n  useEffect(() => {\n    const library = [];\n    fetch('/genelibrary', {\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      credentials: 'include'\n    }).then(resp => resp.json()).then(data => {\n      data.forEach(gene => {\n        library.push(gene.symbol);\n      });\n\n      if (library.includes(geneData.symbol)) {\n        setInLibrary(true);\n      } else {\n        setInLibrary(false);\n      }\n    });\n  }, [geneData]); // check if in library\n\n  useEffect(() => {\n    if (inLibrary === true) {\n      // bug: should only add to library if post successful\n      setBookmarkIcon(BookmarkColored);\n    } else {\n      setBookmarkIcon(Bookmark);\n    }\n  }, [inLibrary]); // enable annotating\n\n  useEffect(() => {\n    if (isAnnotating === true) {\n      setPaintbrushColor('white');\n    } else {\n      setPaintbrushColor('unset');\n    }\n  }, [isAnnotating]);\n\n  function toggleAnnotations() {\n    setAnnotationToggle(!annotationToggle);\n  }\n\n  function showAnnotations(annotations) {\n    const basepairIDs = [];\n    annotations.forEach(annotation => {\n      for (let i = annotation.begin; i <= annotation.end; i++) {\n        basepairIDs.push(i);\n      }\n    });\n    basepairIDs.forEach(id => {\n      document.getElementById(id).style.backgroundColor = 'yellow';\n    });\n  }\n\n  function hideAnnotations(annotations) {\n    const basepairIDs = [];\n    setAnnotationText(null);\n    annotations.forEach(annotation => {\n      for (let i = annotation.begin; i <= annotation.end; i++) {\n        basepairIDs.push(i);\n      }\n    });\n    basepairIDs.forEach(id => {\n      if (document.getElementById(id)) {\n        document.getElementById(id).style.backgroundColor = 'unset';\n      }\n    });\n  }\n\n  useEffect(() => {\n    if (annotationToggle === true) {\n      setBookColor('white');\n      showAnnotations(annotations);\n    } else {\n      setBookColor('unset');\n      hideAnnotations(annotations);\n    } // eslint-disable-next-line\n\n  }, [annotationToggle, annotations]);\n\n  function showNote(event) {\n    if (event.target.className === 'bp') {\n      annotations.forEach(annotation => {\n        const basepairIDs = [];\n\n        for (let i = annotation.begin; i <= annotation.end; i++) {\n          basepairIDs.push(i);\n        }\n\n        basepairIDs.forEach(id => {\n          if (parseInt(event.target.id) === id) {\n            setAnnotationText( /*#__PURE__*/_jsxDEV(Note, {\n              basepairs: basepairIDs,\n              content: annotation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 43\n            }, this));\n          }\n        });\n      });\n    } else {\n      setAnnotationText(null);\n    }\n  }\n\n  useEffect(() => {\n    // bug: remove event listener when gene changes\n    if (annotationToggle === true) {\n      document.addEventListener('click', showNote);\n    }\n\n    return () => {\n      document.removeEventListener('click', showNote);\n    }; // eslint-disable-next-line\n  }, [annotationToggle]); // note: need to style header and icons\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"header\",\n    style: {\n      zIndex: 2,\n      position: 'fixed',\n      height: headerSize,\n      width: '70%',\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: 'rgb(220, 220, 220)',\n      borderRadius: '0px 0px 10px 10px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(SeqRange, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        paddingLeft: 6,\n        paddingRight: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: setStyling,\n        src: Circles,\n        style: {\n          height: '80%',\n          cursor: 'pointer'\n        },\n        alt: \"paint icon: make an annotation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 144\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        paddingLeft: 12,\n        paddingRight: 12,\n        backgroundColor: bookColor\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: toggleAnnotations,\n        src: BookIcon,\n        style: {\n          height: '72%',\n          cursor: 'pointer'\n        },\n        alt: \"paint icon: make an annotation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 174\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        paddingLeft: 6,\n        paddingRight: 6,\n        backgroundColor: paintbrushColor\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: handleAddAnnotation,\n        src: PaintBrush,\n        style: {\n          height: '115%',\n          cursor: 'pointer'\n        },\n        alt: \"paint icon: make an annotation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 177\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        paddingLeft: 6,\n        paddingRight: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: handleAddToLibrary,\n        src: bookmarkIcon,\n        style: {\n          height: '110%',\n          cursor: 'pointer'\n        },\n        alt: \"bookmark icon: add to library\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 144\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        paddingLeft: 6,\n        paddingRight: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: handleAddToClipboard,\n        src: CopyIcon,\n        style: {\n          height: '100%',\n          cursor: 'pointer'\n        },\n        alt: \"copy icon: add to clipboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 144\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SequenceHeader, \"sYZzDGtHKlXUnKms5+lfe0Kxk9A=\");\n\n_c = SequenceHeader;\n\nvar _c;\n\n$RefreshReg$(_c, \"SequenceHeader\");","map":{"version":3,"names":["useEffect","useState","Bookmark","BookmarkColored","CopyIcon","PaintBrush","Circles","BookIcon","Note","SeqRange","SequenceHeader","geneData","annotations","annotationToggle","setAnnotationToggle","setAnnotationText","sequenceStyle","setSequenceStyle","rerenderLibrary","setRerenderLibrary","rawSequence","handleAddAnnotation","isAnnotating","inLibrary","setInLibrary","bookmarkIcon","setBookmarkIcon","paintbrushColor","setPaintbrushColor","bookColor","setBookColor","setStyling","handleAddToClipboard","navigator","clipboard","writeText","handleAddToLibrary","fetch","method","headers","credentials","body","JSON","stringify","symbol","then","taxon","taxname","library","resp","json","data","forEach","gene","push","includes","toggleAnnotations","showAnnotations","basepairIDs","annotation","i","begin","end","id","document","getElementById","style","backgroundColor","hideAnnotations","showNote","event","target","className","parseInt","addEventListener","removeEventListener","zIndex","position","height","headerSize","width","display","flexDirection","justifyContent","alignItems","borderRadius","paddingLeft","paddingRight","cursor"],"sources":["C:/Users/micha/OneDrive/Documents/Code/helix-app/client/src/components/views/sequence-header/SequenceHeader.jsx"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport Bookmark from '../../assets/Bookmark.png'\r\nimport BookmarkColored from '../../assets/BookmarkColored.png'\r\nimport CopyIcon from '../../assets/CopyIcon.png'\r\nimport PaintBrush from '../../assets/PaintBrush.png'\r\nimport Circles from '../../assets/Circles.png'\r\nimport BookIcon from '../../assets/BookIcon.png'\r\nimport Note from '../Note'\r\nimport SeqRange from './SeqRange'\r\n\r\n\r\nexport default function SequenceHeader ( { geneData, annotations, annotationToggle, setAnnotationToggle, setAnnotationText, sequenceStyle, setSequenceStyle, rerenderLibrary, setRerenderLibrary, rawSequence, handleAddAnnotation, isAnnotating } ) {\r\n\r\n    const [inLibrary, setInLibrary] = useState(false)\r\n    const [bookmarkIcon, setBookmarkIcon] = useState(Bookmark)\r\n    const [paintbrushColor, setPaintbrushColor] = useState()\r\n\r\n    const [bookColor, setBookColor] = useState()\r\n\r\n\r\n    // note: should migrate header icon functionalities to specialized components\r\n\r\n    function setStyling() {\r\n        setSequenceStyle(!sequenceStyle)\r\n    }\r\n\r\n    function handleAddToClipboard() {\r\n        navigator.clipboard.writeText(rawSequence)\r\n    }\r\n\r\n    function handleAddToLibrary() {\r\n        if(inLibrary === true) {\r\n            fetch('/removegene', {\r\n                method: 'POST',\r\n                headers: {\r\n                    \"Content-Type\": 'application/json'\r\n                },\r\n                credentials: 'include',\r\n                body: JSON.stringify({ symbol: geneData.symbol })\r\n            })\r\n            .then(() => {\r\n                setRerenderLibrary(!rerenderLibrary)\r\n                setInLibrary(false)\r\n            })\r\n        }\r\n        else {\r\n            fetch('/addgene', {\r\n                method: 'POST',\r\n                headers: {\r\n                    \"Content-Type\": 'application/json'\r\n                },\r\n                credentials: 'include',\r\n                body: JSON.stringify({ symbol: geneData.symbol, taxon: geneData.taxname })\r\n            })\r\n            .then(() => {\r\n                setRerenderLibrary(!rerenderLibrary)\r\n                setInLibrary(true)\r\n            })\r\n        }\r\n    }\r\n\r\n    // get library\r\n    useEffect(() => {\r\n        const library = []\r\n        fetch('/genelibrary', {\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n            data.forEach((gene) => {\r\n                library.push(gene.symbol)\r\n            })\r\n            if(library.includes(geneData.symbol)) {\r\n                setInLibrary(true)\r\n            } \r\n            else {\r\n                setInLibrary(false)\r\n            }\r\n        })\r\n    }, [geneData])\r\n\r\n    // check if in library\r\n    useEffect(() => {\r\n        if(inLibrary === true) { // bug: should only add to library if post successful\r\n            setBookmarkIcon(BookmarkColored)\r\n        } \r\n        else {\r\n            setBookmarkIcon(Bookmark)\r\n        }\r\n    }, [inLibrary])\r\n\r\n    // enable annotating\r\n    useEffect(() => {\r\n        if(isAnnotating === true) {\r\n           setPaintbrushColor('white')\r\n        } \r\n        else {\r\n            setPaintbrushColor('unset')\r\n        }\r\n    }, [isAnnotating])\r\n\r\n\r\n    function toggleAnnotations () {\r\n        setAnnotationToggle(!annotationToggle)\r\n    }\r\n\r\n    function showAnnotations(annotations) {\r\n        const basepairIDs = []\r\n        annotations.forEach((annotation) => {\r\n            for(let i=annotation.begin; i <= annotation.end; i++) {\r\n                basepairIDs.push(i)\r\n            }\r\n        })\r\n        basepairIDs.forEach((id) => {\r\n            document.getElementById(id).style.backgroundColor = 'yellow'\r\n        })\r\n    }\r\n\r\n    function hideAnnotations(annotations) {\r\n        const basepairIDs = []\r\n        setAnnotationText(null)\r\n        annotations.forEach((annotation) => {\r\n            for(let i=annotation.begin; i <= annotation.end; i++) {\r\n                basepairIDs.push(i)\r\n            }\r\n        })\r\n        basepairIDs.forEach((id) => {\r\n            if(document.getElementById(id)) {\r\n                document.getElementById(id).style.backgroundColor = 'unset'\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(annotationToggle === true) {\r\n            setBookColor('white')\r\n            showAnnotations(annotations)\r\n        } \r\n        else {\r\n            setBookColor('unset')\r\n            hideAnnotations(annotations)\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [annotationToggle, annotations])\r\n\r\n\r\n    function showNote(event) {\r\n        if(event.target.className === 'bp') {\r\n            annotations.forEach((annotation) => {\r\n                const basepairIDs = []\r\n                for(let i=annotation.begin; i <= annotation.end; i++) {\r\n                    basepairIDs.push(i)\r\n                }\r\n                basepairIDs.forEach((id) => {\r\n                    if(parseInt(event.target.id) === id) {\r\n                        setAnnotationText(<Note basepairs={basepairIDs} content={annotation}/>)\r\n                    }\r\n                })                 \r\n            })\r\n        }\r\n        else {\r\n            setAnnotationText(null)\r\n        }\r\n    }\r\n\r\n    useEffect(() => { // bug: remove event listener when gene changes\r\n        if(annotationToggle === true) {\r\n            document.addEventListener('click', showNote)\r\n        } \r\n        return () => {\r\n            document.removeEventListener('click', showNote)\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [annotationToggle])\r\n\r\n\r\n\r\n    \r\n    // note: need to style header and icons\r\n\r\n    return (\r\n        <div id=\"header\" style={{ zIndex: 2, position: 'fixed', height: headerSize, width: '70%', display: 'flex', flexDirection: 'row', justifyContent: 'center', alignItems: 'center', backgroundColor: 'rgb(220, 220, 220)', borderRadius: '0px 0px 10px 10px' }}>\r\n            <SeqRange />\r\n            <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%', paddingLeft: 6, paddingRight: 6 }}><img onClick={setStyling} src={Circles} style={{ height: '80%', cursor: 'pointer' }} alt=\"paint icon: make an annotation\" /> </span>\r\n            <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%', paddingLeft: 12, paddingRight: 12, backgroundColor: bookColor }}><img onClick={toggleAnnotations} src={BookIcon} style={{ height: '72%', cursor: 'pointer' }} alt=\"paint icon: make an annotation\" /> </span>\r\n            <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%', paddingLeft: 6, paddingRight: 6, backgroundColor: paintbrushColor}}><img onClick={handleAddAnnotation} src={PaintBrush} style={{ height: '115%', cursor: 'pointer' }} alt=\"paint icon: make an annotation\" /> </span>\r\n            <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%', paddingLeft: 6, paddingRight: 6 }}><img onClick={handleAddToLibrary} src={bookmarkIcon} style={{ height: '110%', cursor: 'pointer' }} alt=\"bookmark icon: add to library\" /> </span>\r\n            <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%', paddingLeft: 6, paddingRight: 6 }}><img onClick={handleAddToClipboard} src={CopyIcon} style={{ height: '100%', cursor: 'pointer' }} alt=\"copy icon: add to clipboard\" /> </span>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}